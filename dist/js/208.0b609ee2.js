"use strict";(self["webpackChunkvue_antd_pro"]=self["webpackChunkvue_antd_pro"]||[]).push([[208],{17867:function(t,a,e){e.d(a,{Z:function(){return m}});var r=function(){var t=this,a=t._self._c;return a("div",[a("a-button",{attrs:{type:"primary"},on:{click:t.showModal}},[t._v("导入")]),a("a-modal",{attrs:{title:"订单导入",visible:t.visible,footer:null},on:{cancel:t.handleCancel}},[a("a-upload-dragger",{staticStyle:{height:"250px",display:"block"},attrs:{name:"file",action:t.uploadUrl,headers:t.headers,showUploadList:!1},on:{change:t.handleChange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:t.uploadLoading?"loading":"inbox"}})],1),a("p",{staticClass:"ant-upload-text"},[t._v("点击或拖拽文件至此区域即可上传")])])],1)],1)},s=[],n=e(58971),o=e.n(n),l=e(91627),i={data:function(){return{visible:!1,uploadUrl:"/api/back/order/import",headers:{token:o().get(l.LA)},uploadLoading:!1}},methods:{showModal:function(){this.visible=!0},handleCancel:function(t){this.visible=!1},handleChange:function(t){var a=t.file.status;"uploading"!==a&&(this.uploadLoading=!0),"done"===a?(this.uploadLoading=!1,t.file.response&&"0000"===t.file.response.code?(this.$notification.success({message:"成功提示",description:"导入成功"}),this.handleCancel(),this.$emit("ok")):this.$notification.error({message:"错误提示",description:t.file.response&&t.file.response.msg?t.file.response.msg:"导入失败"})):"error"===a&&this.$message.error("文件上传失败")}}},d=i,c=e(1001),u=(0,c.Z)(d,r,s,!1,null,null,null),m=u.exports},75208:function(t,a,e){e.r(a),e.d(a,{default:function(){return h}});e(68309),e(73210);var r=function(){var t=this,a=this,e=a._self._c;return e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",{attrs:{label:"手机号码"}},[e("a-input",{attrs:{"allow-clear":""},model:{value:a.queryParam.phone,callback:function(t){a.$set(a.queryParam,"phone",t)},expression:"queryParam.phone"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",{attrs:{label:"用户类型"}},[e("a-input",{attrs:{"allow-clear":""},model:{value:a.queryParam.name,callback:function(t){a.$set(a.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",{attrs:{label:"开始日期"}},[e("a-date-picker",{attrs:{placeholder:"开始日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",allowClear:""},model:{value:a.queryParam.startDate,callback:function(t){a.$set(a.queryParam,"startDate","string"===typeof t?t.trim():t)},expression:"queryParam.startDate"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",{attrs:{label:"结束日期"}},[e("a-date-picker",{attrs:{placeholder:"结束日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","disabled-date":a.disabledDate,allowClear:""},model:{value:a.queryParam.endDate,callback:function(t){a.$set(a.queryParam,"endDate","string"===typeof t?t.trim():t)},expression:"queryParam.endDate"}})],1)],1),e("a-col",{attrs:{md:a.advanced?24:8,sm:24}},[e("span",{staticClass:"table-page-search-submitButtons",style:a.advanced&&{float:"right",overflow:"hidden"}||{}},[e("a-button",{attrs:{type:"primary"},on:{click:function(t){return a.$refs.table.refresh(!0)}}},[a._v("查询")]),e("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return t.queryParam={}}}},[a._v("重置")])],1)])],1)],1)],1),e("div",{staticClass:"table-operator"},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:1,sm:24}},[e("ExcelModule",{on:{ok:function(t){return a.$refs.table.refresh(!0)}}})],1),e("a-col",{attrs:{md:1,sm:24}},[e("a-button",{attrs:{type:"primary"},on:{click:a.showModal}},[a._v("导出")])],1)],1)],1),e("a-modal",{attrs:{visible:a.visible,title:"选择导出日期"},on:{cancel:a.handleCancel,ok:a.handleOk}},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:12,sm:24}},[e("a-form-item",{attrs:{label:"开始日期"}},[e("a-date-picker",{attrs:{placeholder:"开始日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",allowClear:""},model:{value:a.exports.startDate,callback:function(t){a.$set(a.exports,"startDate","string"===typeof t?t.trim():t)},expression:"exports.startDate"}})],1)],1),e("a-col",{attrs:{md:12,sm:24}},[e("a-form-item",{attrs:{label:"结束日期"}},[e("a-date-picker",{attrs:{placeholder:"结束日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","disabled-date":a.disabledDates,allowClear:""},model:{value:a.exports.endDate,callback:function(t){a.$set(a.exports,"endDate","string"===typeof t?t.trim():t)},expression:"exports.endDate"}})],1)],1)],1)],1)],1),e("s-table",{ref:"table",attrs:{size:"default",rowKey:"key",columns:a.columns,data:a.loadData,showPagination:"auto",bordered:""},scopedSlots:a._u([{key:"contractImg",fn:function(t){return e("span",{},[e("a",{attrs:{target:"_blank",href:t}},[a._v("查看合同")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{attrs:{target:"_blank"},on:{click:function(e){return a.preview(t)}}},[a._v("预览合同")])],1)}}])})],1)},s=[],n=e(82165),o=e(70206),l=e(17867),i=e(30381),d=e.n(i),c=[{title:"电话",dataIndex:"phone"},{title:"用户类型",dataIndex:"productName"},{title:"数量",dataIndex:"productNum"},{title:"金额",dataIndex:"amount"},{title:"日期",dataIndex:"createTime"},{title:"合同",dataIndex:"contractImg",scopedSlots:{customRender:"contractImg"}}],u={name:"TableList",components:{STable:n.m7,Ellipsis:n.mH,ExcelModule:l.Z},data:function(){var t=this;return this.columns=c,{visible:!1,advanced:!1,queryParam:{},exports:{},loadData:function(a){var e=Object.assign({},a,t.queryParam);return(0,o.QN)(e).then((function(t){return t.data}))}}},methods:{handleOk:function(){},handleCancel:function(){this.visible=!1},disabledDate:function(t){if(this.queryParam.startDate)return t<d()(this.queryParam.startDate)},disabledDates:function(t){if(this.exports.startDate)return t<d()(this.exports.startDate)},showModal:function(){this.visible=!0},preview:function(t){var a=encodeURIComponent(t),e="http://view.officeapps.live.com/op/view.aspx?src="+a;window.open(e,"_target")},handleAdd:function(){this.$refs.createModal.open({})},handleEdit:function(t){this.$refs.createModal.open(t)},toggleAdvanced:function(){this.advanced=!this.advanced}}},m=u,p=e(1001),f=(0,p.Z)(m,r,s,!1,null,null,null),h=f.exports}}]);