"use strict";(self["webpackChunkvue_antd_pro"]=self["webpackChunkvue_antd_pro"]||[]).push([[193],{72863:function(e,t,n){n.d(t,{Z:function(){return f}});var r=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.ruleForm&&e.ruleForm.id?"公告详情":"创建公告",width:840,visible:e.visible,confirmLoading:e.loading,"ok-button-props":{props:{disabled:!(!e.ruleForm||!e.ruleForm.id)}}},on:{ok:e.confirmHandler,cancel:e.cancelHandler}},[t("a-spin",{attrs:{spinning:e.loading}},[t("a-form-model",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-col":{span:3},"wrapper-col":{span:18}}},[t("a-form-model-item",{attrs:{label:"公告标题",prop:"title"}},[t("a-input",{attrs:{placeholder:"请输入公告标题",allowClear:""},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),t("a-form-model-item",{attrs:{label:"公告说明",prop:"mainText"}},[t("quill-editor",{model:{value:e.ruleForm.mainText,callback:function(t){e.$set(e.ruleForm,"mainText",t)},expression:"ruleForm.mainText"}})],1)],1)],1)],1)},a=[],o=n(3360),l=n(70206),i=n(59811),s=n(82165),u={components:{QuillEditor:s.Bn},data:function(){return{visible:!1,loading:!1,ruleForm:{},rules:{title:[{required:!0,message:"请输入公告标题",trigger:"blur"}],mainText:[{required:!0,message:"请输入公告说明",trigger:"blur"}]},userLevelArr:i.Y}},methods:{open:function(e){var t=this;this.ruleForm=(0,o.Z)({},e),this.ruleForm.type="cn",this.visible=!0,e.title||setTimeout((function(){t.$refs.ruleForm.clearValidate()}),100)},cancelHandler:function(){this.visible=!1},confirmHandler:function(){var e=this;this.$refs.ruleForm.validate((function(t){t&&(e.loading=!0,(0,l.iI)(e.ruleForm).then((function(){e.loading=!1,e.$notification.success({message:"成功提示",description:"".concat(e.ruleForm.id?"编辑":"创建","公告成功")}),e.visible=!1,e.$emit("ok")})).catch((function(){e.loading=!1})))}))}}},c=u,d=n(1001),m=(0,d.Z)(c,r,a,!1,null,null,null),f=m.exports},77193:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{bordered:!1}},[t("div",{staticClass:"table-operator"},[t("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.$refs.createForm.open({})}}},[e._v("创建")])],1),t("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",columns:e.columns,data:e.loadData,showPagination:"auto",scroll:{x:"max-content"},bordered:""},scopedSlots:e._u([{key:"fgs",fn:function(n){return t("span",{},[e._v(" "+e._s("1"==n?"是":"否")+" ")])}},{key:"yyzx",fn:function(n){return t("span",{},[e._v(" "+e._s("1"==n?"是":"否")+" ")])}},{key:"action",fn:function(n,r){return t("span",{},[t("a",{on:{click:function(t){return e.handlerShowDetails(r)}}},[e._v("详情")]),t("a-divider",{attrs:{type:"vertical"}}),t("a-popconfirm",{attrs:{title:"确定删除此公告吗?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(t){return e.confirm(r)},cancel:e.cancel}},[t("a",[e._v("删除")])])],1)}}])}),t("CreateForm",{ref:"createForm",on:{ok:function(t){return e.$refs.table.refresh(!0)}}}),t("a-modal",{attrs:{title:"公告"},on:{ok:e.showDetailModel},model:{value:e.showDetailModel,callback:function(t){e.showDetailModel=t},expression:"showDetailModel"}},[t("div",{domProps:{innerHTML:e._s(e.details.mainText)}})])],1)},a=[],o=(n(7672),n(61446)),l=n(82165),i=n(70206),s=n(72863),u=[{title:"标题",dataIndex:"title"},{title:"创建时间",dataIndex:"createTime"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"}}],c={name:"NoticeList",components:{STable:l.m7,CreateForm:s.Z},data:function(){var e=this;return{columns:u,tableData:[],showSaveModel:!1,saveForm:{title:"",mainText:""},showDetailModel:!1,details:{title:"",mainText:""},loadData:function(t){var n=Object.assign({},t,e.queryParam);return(0,i.Fe)(n).then((function(e){return e.data}))}}},methods:{clientSave:function(){this.saveForm={title:"",mainText:""},this.showSaveModel=!0},handleAdd:function(){var e=this;(0,i.iI)(this.saveForm).then((function(t){e.showSaveModel=!1}))},handlerShowDetails:function(e){this.$refs.createForm.open(e)},confirm:function(e){var t=this;(0,i._E)(e.id).then((function(e){o.Z.success("删除成功"),t.$refs.table.refresh(!0)}))}},mounted:function(){}},d=c,m=n(1001),f=(0,m.Z)(d,r,a,!1,null,null,null),p=f.exports},59811:function(e,t,n){n.d(t,{Y:function(){return r}});var r=[{value:"1",label:"个人代理"},{value:"2",label:"企业代理"},{value:"3",label:"县级代理"},{value:"4",label:"城市代理"},{value:"5",label:"省级代理"}]}}]);